FROM ubuntu:bionic

ARG DEBIAN_FRONTEND=noninteractive
ARG R_VERSION=3.6.3
ARG JAVA_VERSION=1.8.0


# Get Cran Repository on the apt list
RUN sed -i '/deb-src/s/^# //' /etc/apt/sources.list && \
    apt-get update && \
    apt-get upgrade -y && \
    apt-get install -y apt-utils apt-transport-https ca-certificates wget dirmngr gnupg software-properties-common tzdata gpg && \
    apt-get clean  && \
    rm -r /tmp/*

RUN add-apt-repository -s 'deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/' && \
    gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9 && \
    gpg -a --export E298A3A825C0D65DFD57CBB651716619E084DAB9 | apt-key add - && \
    apt-get update && \
    apt-get clean && \
    rm -r /tmp/*

# Download of all dependencies recommended for building and/or installing the binary of r-base-dev.
RUN apt-get update && \
    apt-get install -y adwaita-icon-theme antlr3 antlr4 at-spi2-core autoconf automake autopoint autotools-dev bash-completion binfmt-support binutils binutils-common binutils-x86-64-linux-gnu bison bisonc++ bsdmainutils build-essential bundler bzip2-doc ca-certificates-java catdvi cfortran clang clang-6.0 clang-7 clang-8 clang-9 clang-tools-8 clang-tools-9 clisp cmake cmake-data cpp cpp-7 cpp-8 curl dconf-gsettings-backend dconf-service debhelper default-jdk default-jdk-headless default-jre default-jre-headless default-libmysqlclient-dev dh-autoreconf dh-exec dh-python dh-strip-nondeterminism diffstat dpkg-dev dvi2dvi dvi2ps-fontdata-ja dvi2ps-fontdata-n2a dvidvi f2c f2j fakeroot flex flexc++ fontconfig fontconfig-config fonts-adf-accanthis fonts-adf-berenis fonts-adf-gillius fonts-adf-universalis fonts-cabin fonts-comfortaa fonts-croscore fonts-crosextra-caladea fonts-crosextra-carlito fonts-dejavu-core fonts-dejavu-extra fonts-droid-fallback fonts-ebgaramond fonts-ebgaramond-extra fonts-font-awesome fonts-freefont-otf fonts-freefont-ttf fonts-gfs-artemisia fonts-gfs-complutum fonts-gfs-didot fonts-gfs-neohellenic fonts-gfs-olga fonts-gfs-solomos fonts-go fonts-junicode fonts-lato fonts-linuxlibertine fonts-lmodern fonts-lobster fonts-lobstertwo fonts-noto-hinted fonts-noto-mono fonts-oflb-asana-math fonts-open-sans fonts-roboto-hinted fonts-sil-gentium fonts-sil-gentium-basic fonts-sil-gentiumplus fonts-sil-gentiumplus-compact fonts-stix fonts-texgyre fort77 g++ g++-7 g++-7-multilib g++-8 g++-8-multilib g++-multilib gawk gcc gcc-7 gcc-7-base gcc-7-multilib gcc-8 gcc-8-multilib gcc-multilib gccgo gccgo-7 gccgo-7-multilib gccgo-8 gccgo-8-multilib gccgo-multilib gdal-data gdb gdbserver gettext gettext-base gfortran gfortran-7 gfortran-7-multilib gfortran-8 gfortran-8-multilib gfortran-multilib ghostscript gir1.2-freedesktop gir1.2-harfbuzz-0.0 gir1.2-pango-1.0 glib-networking glib-networking-common glib-networking-services gobjc gobjc++ gobjc++-7 gobjc++-7-multilib gobjc++-8 gobjc++-8-multilib gobjc++-multilib gobjc-7 gobjc-7-multilib gobjc-8 gobjc-8-multilib gobjc-multilib gperf groff-base gsettings-desktop-schemas gsfonts gtk-update-icon-cache hicolor-icon-theme humanity-icon-theme ibverbs-providers icu-devtools intltool-debian java-common javascript-common krb5-locales lib32asan4 lib32asan5 lib32atomic1 lib32cilkrts5 lib32gcc-7-dev lib32gcc-8-dev lib32gcc1 lib32gfortran-7-dev lib32gfortran-8-dev lib32gfortran4 lib32gfortran5 lib32go11 lib32go13 lib32gomp1 lib32itm1 lib32mpx2 lib32objc-7-dev lib32objc-8-dev lib32objc4 lib32quadmath0 lib32stdc++-7-dev lib32stdc++-8-dev lib32stdc++6 lib32ubsan0 lib32ubsan1 libaec0 libaio1 libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl libantlr-java libantlr3-runtime-java libantlr4-runtime-java libarchive-cpio-perl libarchive-zip-perl libarchive13 libarmadillo8 libarpack2 libasan4 libasan5 libasound2 libasound2-data libasyncns0 libatk-bridge2.0-0 libatk-wrapper-java libatk-wrapper-java-jni libatk1.0-0 libatk1.0-data libatlas-base-dev libatlas3-base libatomic1 libatspi2.0-0 libaudit-dev libauthen-sasl-perl libavahi-client3 libavahi-common-data libavahi-common3 libbabeltrace1 libbinutils libbison-dev libblas-dev libblas3 libbobcat4 libboost-all-dev libboost-atomic-dev libboost-atomic1.65-dev libboost-atomic1.65.1 libboost-chrono-dev libboost-chrono1.65-dev libboost-chrono1.65.1 libboost-container-dev libboost-container1.65-dev libboost-container1.65.1 libboost-context-dev libboost-context1.65-dev libboost-context1.65.1 libboost-coroutine-dev libboost-coroutine1.65-dev libboost-coroutine1.65.1 libboost-date-time-dev libboost-date-time1.65-dev libboost-date-time1.65.1 libboost-dev libboost-exception-dev libboost-exception1.65-dev libboost-fiber-dev libboost-fiber1.65-dev libboost-fiber1.65.1 libboost-filesystem-dev libboost-filesystem1.65-dev libboost-filesystem1.65.1 libboost-graph-dev libboost-graph-parallel-dev libboost-graph-parallel1.65-dev libboost-graph-parallel1.65.1 libboost-graph1.65-dev libboost-graph1.65.1 libboost-iostreams-dev libboost-iostreams1.65-dev libboost-iostreams1.65.1 libboost-locale-dev libboost-locale1.65-dev libboost-locale1.65.1 libboost-log-dev libboost-log1.65-dev libboost-log1.65.1 libboost-math-dev libboost-math1.65-dev libboost-math1.65.1 libboost-mpi-dev libboost-mpi-python-dev libboost-mpi-python1.65-dev libboost-mpi-python1.65.1 libboost-mpi1.65-dev libboost-mpi1.65.1 libboost-numpy-dev libboost-numpy1.65-dev libboost-numpy1.65.1 libboost-program-options-dev libboost-program-options1.65-dev libboost-program-options1.65.1 libboost-python-dev libboost-python1.65-dev libboost-python1.65.1 libboost-random-dev libboost-random1.65-dev libboost-random1.65.1 libboost-regex-dev libboost-regex1.65-dev libboost-regex1.65.1 libboost-serialization-dev libboost-serialization1.65-dev libboost-serialization1.65.1 libboost-signals-dev libboost-signals1.65-dev libboost-signals1.65.1 libboost-stacktrace-dev libboost-stacktrace1.65-dev libboost-stacktrace1.65.1 libboost-system-dev libboost-system1.65-dev libboost-system1.65.1 libboost-test-dev libboost-test1.65-dev libboost-test1.65.1 libboost-thread-dev libboost-thread1.65-dev libboost-thread1.65.1 libboost-timer-dev libboost-timer1.65-dev libboost-timer1.65.1 libboost-tools-dev libboost-type-erasure-dev libboost-type-erasure1.65-dev libboost-type-erasure1.65.1 libboost-wave-dev libboost-wave1.65-dev libboost-wave1.65.1 libboost1.65-dev libboost1.65-tools-dev libbsd0 libbz2-dev libc-ares2 libc-dev-bin libc6-dbg libc6-dev libc6-dev-i386 libc6-dev-x32 libc6-i386 libc6-x32 libcaf-mpi2 libcairo-gobject2 libcairo-script-interpreter2 libcairo2 libcairo2-dev libcap-dev libcap-ng-dev libcap2 libcc1-0 libcgi-fast-perl libcgi-pm-perl libcilkrts5 libclang-common-6.0-dev libclang-common-7-dev libclang-common-8-dev libclang-common-9-dev libclang-cpp9 libclang1-6.0 libclang1-7 libclang1-8 libclang1-9 libcoarrays-dev libcolord2 libcroco3 libcups2 libcupsfilters1 libcupsimage2 libcurl3-gnutls libcurl4 libcurl4-openssl-dev libdap25 libdapclient6v5 libdata-dump-perl libdatrie1 libdconf1 libdpkg-perl libdrm-amdgpu1 libdrm-common libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libdrm2 libdw1 libedit2 libelf1 libencode-locale-perl libepoxy0 libepsilon1 libevent-2.1-6 libevent-core-2.1-6 libevent-dev libevent-extra-2.1-6 libevent-openssl-2.1-6 libevent-pthreads-2.1-6 libexpat1-dev libf2c2 libf2c2-dev libfabric1 libfakeroot libfcgi-perl libffcall1b libffi-dev libfftw3-bin libfftw3-dev libfftw3-double3 libfftw3-long3 libfftw3-quad3 libfftw3-single3 libfile-basedir-perl libfile-desktopentry-perl libfile-fcntllock-perl libfile-homedir-perl libfile-listing-perl libfile-mimeinfo-perl libfile-stripnondeterminism-perl libfile-which-perl libfl-dev libfl2 libflac8 libfont-afm-perl libfontconfig1 libfontconfig1-dev libfontenc1 libfreetype6 libfreetype6-dev libfreexl1 libfyba0 libgail-common libgail18 libgc1c2 libgcc-7-dev libgcc-8-dev libgdal20 libgdbm-compat4 libgdbm5 libgdk-pixbuf2.0-0 libgdk-pixbuf2.0-bin libgdk-pixbuf2.0-common libgeos-3.6.2 libgeos-c1v5 libgeotiff2 libgfortran-7-dev libgfortran-8-dev libgfortran4 libgfortran5 libgif7 libgl1 libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libglib2.0-bin libglib2.0-dev libglib2.0-dev-bin libglvnd0 libglx-mesa0 libglx0 libgmp-dev libgmpxx4ldbl libgo11 libgo13 libgomp1 libgraphite2-3 libgraphite2-dev libgs9 libgs9-common libgssapi-krb5-2 libgtk-3-0 libgtk-3-bin libgtk-3-common libgtk2.0-0 libgtk2.0-bin libgtk2.0-common libharfbuzz-dev libharfbuzz-gobject0 libharfbuzz-icu0 libharfbuzz0b libhdf4-0-alt libhdf5-100 libhtml-form-perl libhtml-format-perl libhtml-parser-perl libhtml-tagset-perl libhtml-template-perl libhtml-tree-perl libhttp-cookies-perl libhttp-daemon-perl libhttp-date-perl libhttp-message-perl libhttp-negotiate-perl libhttp-parser2.7.1 libhwloc-dev libhwloc-plugins libhwloc5 libibverbs-dev libibverbs1 libice-dev libice6 libicu-dev libicu-le-hb-dev libicu-le-hb0 libiculx60 libidn11 libijs-0.35 libio-html-perl libio-socket-ssl-perl libipc-system-simple-perl libisl19 libitm1 libjbig-dev libjbig0 libjbig2dec0 libjpeg-dev libjpeg-turbo8 libjpeg-turbo8-dev libjpeg8 libjpeg8-dev libjs-angularjs libjs-bootstrap libjs-jquery libjs-underscore libjson-c3 libjson-glib-1.0-0 libjson-glib-1.0-common libjsoncpp1 libjsonp-java libk5crypto3 libkeyutils1 libkmlbase1 libkmldom1 libkmlengine1 libkpathsea6 libkrb5-3 libkrb5support0 liblapack-dev liblapack-pic liblapack3 liblcms2-2 libllvm6.0 libllvm7 libllvm8 libllvm9 liblocale-gettext-perl liblsan0 libltdl-dev libltdl7 liblwgeom-2.4-0 liblwp-mediatypes-perl liblwp-protocol-https-perl liblzma-dev liblzo2-2 libmail-sendmail-perl libmailtools-perl libmilter1.0.1 libmime-charset-perl libminizip1 libmpc-dev libmpc3 libmpfr-dev libmpfr6 libmpx2 libmysql++-dev libmysql++3v5 libmysql-java libmysqlclient-dev libmysqlclient20 libncurses-dev libncurses5-dev libnet-dbus-perl libnet-http-perl libnet-smtp-ssl-perl libnet-ssleay-perl libnetcdf13 libnghttp2-14 libnl-3-200 libnl-route-3-200 libnspr4 libnss3 libnuma-dev libnuma1 libobjc-7-dev libobjc-8-dev libobjc4 libodb-2.4 libodb-dev libodb-pgsql-2.4 libodb-pgsql-dev libodbc1 libogdi3.2 libogg0 libomp-9-dev libomp5-9 libopenblas-base libopenblas-dev libopenjp2-7 libopenmpi-dev libopenmpi2 libpango-1.0-0 libpango1.0-dev libpangocairo-1.0-0 libpangoft2-1.0-0 libpangoxft-1.0-0 libpaper-utils libpaper1 libpciaccess0 libpcre16-3 libpcre2-16-0 libpcre2-32-0 libpcre2-8-0 libpcre2-dev libpcre2-posix0 libpcre3-dev libpcre32-3 libpcrecpp0v5 libpcsclite1 libperl5.26 libpfm4 libpgtcl libpgtcl-dev libpipeline1 libpixman-1-0 libpixman-1-dev libpng-dev libpng-tools libpng16-16 libpoppler73 libpopt0 libpostgis-java libpostgresql-jdbc-java libpotrace0 libpq-dev libpq5 libpqxx-4.0v5 libpqxx-dev libproj12 libprotobuf-c1 libproxy1v5 libpsm-infinipath1 libptexenc1 libpthread-stubs0-dev libpthread-workqueue-dev libpthread-workqueue0 libpulse0 libpython-dev libpython-stdlib libpython2.7 libpython2.7-dev libpython2.7-minimal libpython2.7-stdlib libpython3-all-dev libpython3-dev libpython3.6 libpython3.6-dev libqhull7 libquadmath0 librdmacm1 libreadline-dev libreadline5 librest-0.7-0 librhash0 librsvg2-2 librsvg2-bin librsvg2-common librtmp1 libruby2.5 libselinux1-dev libsensors4 libsepol1-dev libsigsegv2 libslf4j-java libsm-dev libsm6 libsndfile1 libsombok3 libsoup-gnome2.4-1 libsoup2.4-1 libspatialite7 libsqlite0 libsqlite0-dev libsqliteodbc libsqljet-java libssl-dev libssl1.0.0 libstdc++-7-dev libstdc++-8-dev libstringtemplate-java libstringtemplate4-java libsuperlu5 libsynctex1 libsys-hostname-long-perl libsz2 libtcl8.6 libtexlua52 libtexluajit2 libtext-iconv-perl libtext-unidecode-perl libthai-data libthai0 libtie-ixhash-perl libtiff-dev libtiff5 libtiff5-dev libtiffxx5 libtimedate-perl libtinfo-dev libtk8.6 libtommath1 libtool libtreelayout-java libtry-tiny-perl libtsan0 libubsan0 libubsan1 libunicode-linebreak-perl liburi-perl liburiparser1 libutempter0 libuv1 libvorbis0a libvorbisenc2 libwayland-client0 libwayland-cursor0 libwayland-egl1 libwebp6 libwrap0 libwww-perl libwww-robotrules-perl libx11-6 libx11-data libx11-dev libx11-doc libx11-protocol-perl libx11-xcb1 libx32asan4 libx32asan5 libx32atomic1 libx32cilkrts5 libx32gcc-7-dev libx32gcc-8-dev libx32gcc1 libx32gfortran-7-dev libx32gfortran-8-dev libx32gfortran4 libx32gfortran5 libx32go11 libx32go13 libx32gomp1 libx32itm1 libx32objc-7-dev libx32objc-8-dev libx32objc4 libx32quadmath0 libx32stdc++-7-dev libx32stdc++-8-dev libx32stdc++6 libx32ubsan0 libx32ubsan1 libxau-dev libxau6 libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-render0 libxcb-render0-dev libxcb-shape0 libxcb-shm0 libxcb-shm0-dev libxcb-sync1 libxcb1 libxcb1-dev libxcomposite1 libxcursor1 libxdamage1 libxdmcp-dev libxdmcp6 libxerces-c3.2 libxext-dev libxext6 libxfixes3 libxfont2 libxft-dev libxft2 libxi6 libxinerama1 libxkbcommon0 libxkbfile1 libxml-libxml-perl libxml-namespacesupport-perl libxml-parser-perl libxml-sax-base-perl libxml-sax-expat-perl libxml-sax-perl libxml-twig-perl libxml-xpathengine-perl libxmu6 libxmuu1 libxpm4 libxrandr2 libxrender-dev libxrender1 libxshmfence1 libxslt1.1 libxss-dev libxss1 libxt-dev libxt6 libxtst6 libxv1 libxxf86dga1 libxxf86vm1 libyaml-0-2 libyaml-tiny-perl libzzip-0-13 linux-libc-dev llvm-6.0 llvm-6.0-dev llvm-6.0-runtime llvm-7 llvm-7-dev llvm-7-runtime llvm-8 llvm-8-dev llvm-8-runtime llvm-9 llvm-9-dev llvm-9-runtime llvm-9-tools lmodern locales logrotate m4 make man-db manpages manpages-dev moarvm mpack mpi-default-bin mpi-default-dev multiarch-support mysql-client mysql-client-5.7 mysql-client-core-5.7 mysql-common mysql-server mysql-server-5.7 mysql-server-core-5.7 netbase nodejs nodejs-doc nqp ocl-icd-libopencl1 odbc-postgresql odbcinst odbcinst1debian2 openjdk-11-jdk openjdk-11-jdk-headless openjdk-11-jre openjdk-11-jre-headless openjdk-8-jdk openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-headless openmpi-bin openmpi-common patch perl perl-modules-5.26 perl-openssl-defaults perl6 pkg-config po-debconf poppler-data postgis postgis-doc postgresql postgresql-10 postgresql-10-postgis-2.4 postgresql-10-postgis-2.4-scripts postgresql-client postgresql-client-10 postgresql-client-common postgresql-common postgresql-plpython-10 preview-latex-style proj-bin proj-data psmisc python python-chardet python-dev python-minimal python-pkg-resources python-pthreading python-pygments python-yaml python2.7 python2.7-dev python2.7-minimal python3-all python3-all-dev python3-dev python3-distutils python3-lib2to3 python3-pkg-resources python3-postgresql python3-pygments python3-pygresql python3-yaml python3.6-dev quilt rake rakudo rdfind ri ruby ruby-bundler ruby-dev ruby-did-you-mean ruby-minitest ruby-molinillo ruby-net-http-persistent ruby-net-telnet ruby-power-assert ruby-test-unit ruby-thor ruby2.5 ruby2.5-dev ruby2.5-doc rubygems-integration sqlite sqlite3 ssl-cert sudo symlinks sysstat systemtap-sdt-dev t1utils tcl tcl-dev tcl8.6 tcl8.6-dev tex-common tex-gyre texinfo texlive-base texlive-binaries texlive-extra-utils texlive-fonts-extra texlive-fonts-extra-links texlive-fonts-recommended texlive-latex-base texlive-latex-extra texlive-latex-recommended texlive-pictures texlive-plain-generic tipa tk tk-dev tk8.6 tk8.6-dev ubuntu-mono unzip valgrind x11-common x11-utils x11-xkb-utils x11-xserver-utils x11proto-core-dev x11proto-dev x11proto-scrnsaver-dev x11proto-xext-dev xauth xbitmaps xdg-utils xfonts-base xfonts-encodings xfonts-utils xkb-data xorg-sgml-doctools xserver-common xterm xtrans-dev xvfb zip zlib1g-dev && \
    # at-spi2-core autoconf automake autopoint autotools-dev bash-completion binutils binutils-common binutils-x86-64-linux-gnu bison bsdmainutils build-essential bzip2-doc ca-certificates-java cmake cmake-data cpp cpp-7 cpp-8 debhelper default-jdk default-jdk-headless default-jre default-jre-headless dh-autoreconf dh-exec dh-strip-nondeterminism diffstat dpkg-dev f2c fakeroot fontconfig fontconfig-config fonts-adf-accanthis fonts-adf-berenis fonts-adf-gillius fonts-adf-universalis fonts-cabin fonts-comfortaa fonts-croscore fonts-crosextra-caladea fonts-crosextra-carlito fonts-dejavu-core fonts-dejavu-extra fonts-droid-fallback fonts-ebgaramond fonts-ebgaramond-extra fonts-font-awesome fonts-freefont-otf fonts-freefont-ttf fonts-gfs-artemisia fonts-gfs-complutum fonts-gfs-didot fonts-gfs-neohellenic fonts-gfs-olga fonts-gfs-solomos fonts-go fonts-junicode fonts-lato fonts-linuxlibertine fonts-lmodern fonts-lobster fonts-lobstertwo fonts-noto-hinted fonts-noto-mono fonts-oflb-asana-math fonts-open-sans fonts-roboto-hinted fonts-sil-gentium fonts-sil-gentium-basic fonts-sil-gentiumplus fonts-sil-gentiumplus-compact fonts-stix fonts-texgyre fort77 g++ g++-7 g++-7-multilib gawk gcc gcc-7 gcc-7-base gcc-7-multilib gcc-8 gccgo gccgo-8 gettext gettext-base gfortran gfortran-7 ghostscript gir1.2-freedesktop gir1.2-harfbuzz-0.0 gir1.2-pango-1.0 gobjc gobjc++ gobjc++-7 gobjc-7 gperf groff-base gsfonts icu-devtools intltool-debian java-common javascript-common krb5-locales lib32asan4 lib32atomic1 lib32cilkrts5 lib32gcc-7-dev lib32gcc1 lib32gomp1 lib32itm1 lib32mpx2 lib32quadmath0 lib32stdc++-7-dev lib32stdc++6 lib32ubsan0 libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl libarchive-cpio-perl libarchive-zip-perl libarchive13 libasan4 libasan5 libasound2 libasound2-data libatk-bridge2.0-0 libatk-wrapper-java libatk-wrapper-java-jni libatk1.0-0 libatk1.0-data libatomic1 libatspi2.0-0 libaudit-dev libauthen-sasl-perl libavahi-client3 libavahi-common-data libavahi-common3 libbinutils libbison-dev libblas-dev libblas3 libbsd0 libbz2-dev libc-dev-bin libc6-dev libc6-dev-i386 libc6-dev-x32 libc6-i386 libc6-x32 libcairo-gobject2 libcairo-script-interpreter2 libcairo2 libcairo2-dev libcap-dev libcap-ng-dev libcap2 libcc1-0 libcilkrts5 libcroco3 libcups2 libcupsfilters1 libcupsimage2 libcurl4 libcurl4-openssl-dev libdata-dump-perl libdatrie1 libdpkg-perl libdrm-amdgpu1 libdrm-common libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libdrm2 libedit2 libelf1 libencode-locale-perl libexpat1-dev libf2c2 libf2c2-dev libfakeroot libfile-basedir-perl libfile-desktopentry-perl libfile-fcntllock-perl libfile-homedir-perl libfile-listing-perl libfile-mimeinfo-perl libfile-stripnondeterminism-perl libfile-which-perl libfont-afm-perl libfontconfig1 libfontconfig1-dev libfontenc1 libfreetype6 libfreetype6-dev libgc1c2 libgcc-7-dev libgcc-8-dev libgdbm-compat4 libgdbm5 libgfortran-7-dev libgfortran4 libgif7 libgl1 libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libglib2.0-bin libglib2.0-dev libglib2.0-dev-bin libglvnd0 libglx-mesa0 libglx0 libgo13 libgomp1 libgraphite2-3 libgraphite2-dev libgs9 libgs9-common libgssapi-krb5-2 libharfbuzz-dev libharfbuzz-gobject0 libharfbuzz-icu0 libharfbuzz0b libhtml-form-perl libhtml-format-perl libhtml-parser-perl libhtml-tagset-perl libhtml-tree-perl libhttp-cookies-perl libhttp-daemon-perl libhttp-date-perl libhttp-message-perl libhttp-negotiate-perl libice-dev libice6 libicu-dev libicu-le-hb-dev libicu-le-hb0 libiculx60 libidn11 libijs-0.35 libio-html-perl libio-socket-ssl-perl libipc-system-simple-perl libisl19 libitm1 libjbig-dev libjbig0 libjbig2dec0 libjpeg-dev libjpeg-turbo8 libjpeg-turbo8-dev libjpeg8 libjpeg8-dev libjs-jquery libjsoncpp1 libk5crypto3 libkeyutils1 libkpathsea6 libkrb5-3 libkrb5support0 liblapack-dev liblapack-pic liblapack3 liblcms2-2 libllvm9 liblocale-gettext-perl liblsan0 libltdl-dev libltdl7 liblwp-mediatypes-perl liblwp-protocol-https-perl liblzma-dev liblzo2-2 libmail-sendmail-perl libmailtools-perl libmime-charset-perl libmpc3 libmpfr6 libmpx2 libncurses5-dev libnet-dbus-perl libnet-http-perl libnet-smtp-ssl-perl libnet-ssleay-perl libnghttp2-14 libnspr4 libnss3 libobjc-7-dev libobjc4 libpango-1.0-0 libpango1.0-dev libpangocairo-1.0-0 libpangoft2-1.0-0 libpangoxft-1.0-0 libpaper-utils libpaper1 libpciaccess0 libpcre16-3 libpcre2-16-0 libpcre2-32-0 libpcre2-8-0 libpcre2-dev libpcre2-posix0 libpcre3-dev libpcre32-3 libpcrecpp0v5 libpcsclite1 libperl5.26 libpipeline1 libpixman-1-0 libpixman-1-dev libpng-dev libpng-tools libpng16-16 libpoppler73 libpotrace0 libptexenc1 libpthread-stubs0-dev libpython-stdlib libpython2.7-minimal libpython2.7-stdlib libquadmath0 libreadline-dev librhash0 librtmp1 libruby2.5 libselinux1-dev libsensors4 libsepol1-dev libsigsegv2 libsm-dev libsm6 libsombok3 libstdc++-7-dev libsynctex1 libsys-hostname-long-perl libtcl8.6 libtexlua52 libtexluajit2 libtext-iconv-perl libtext-unidecode-perl libthai-data libthai0 libtie-ixhash-perl libtiff5 libtiff5-dev libtiffxx5 libtimedate-perl libtinfo-dev libtk8.6 libtool libtry-tiny-perl libtsan0 libubsan0 libubsan1 libunicode-linebreak-perl liburi-perl libutempter0 libuv1 libwww-perl libwww-robotrules-perl libx11-6 libx11-data libx11-dev libx11-doc libx11-protocol-perl libx11-xcb1 libx32asan4 libx32atomic1 libx32cilkrts5 libx32gcc-7-dev libx32gcc1 libx32gomp1 libx32itm1 libx32quadmath0 libx32stdc++-7-dev libx32stdc++6 libx32ubsan0 libxau-dev libxau6 libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-render0 libxcb-render0-dev libxcb-shape0 libxcb-shm0 libxcb-shm0-dev libxcb-sync1 libxcb1 libxcb1-dev libxcomposite1 libxcursor1 libxdamage1 libxdmcp-dev libxdmcp6 libxext-dev libxext6 libxfixes3 libxfont2 libxft-dev libxft2 libxi6 libxinerama1 libxkbfile1 libxml-libxml-perl libxml-namespacesupport-perl libxml-parser-perl libxml-sax-base-perl libxml-sax-expat-perl libxml-sax-perl libxml-twig-perl libxml-xpathengine-perl libxmu6 libxmuu1 libxpm4 libxrandr2 libxrender-dev libxrender1 libxshmfence1 libxss-dev libxss1 libxt-dev libxt6 libxtst6 libxv1 libxxf86dga1 libxxf86vm1 libyaml-0-2 libyaml-tiny-perl libzzip-0-13 linux-libc-dev lmodern m4 make man-db manpages manpages-dev mpack multiarch-support netbase openjdk-11-jdk openjdk-11-jdk-headless openjdk-11-jre openjdk-11-jre-headless patch perl perl-modules-5.26 perl-openssl-defaults pkg-config po-debconf poppler-data preview-latex-style python python-minimal python2.7 python2.7-minimal python3-distutils python3-lib2to3 quilt rake rdfind ruby ruby-did-you-mean ruby-minitest ruby-net-telnet ruby-power-assert ruby-test-unit ruby2.5 rubygems-integration symlinks systemtap-sdt-dev t1utils tcl tcl-dev tcl8.6 tcl8.6-dev tex-common tex-gyre texinfo texlive-base texlive-binaries texlive-extra-utils texlive-fonts-extra texlive-fonts-extra-links texlive-fonts-recommended texlive-latex-base texlive-latex-extra texlive-latex-recommended texlive-pictures texlive-plain-generic tipa tk tk-dev tk8.6 tk8.6-dev unzip x11-common x11-utils x11-xkb-utils x11-xserver-utils x11proto-core-dev x11proto-dev x11proto-scrnsaver-dev x11proto-xext-dev xauth xbitmaps xdg-utils xfonts-base xfonts-encodings xfonts-utils xkb-data xorg-sgml-doctools xserver-common xterm xtrans-dev xvfb zip zlib1g-dev && \
    update-java-alternatives -s /usr/lib/jvm/java-${JAVA_VERSION}-openjdk-amd64 && \
    apt-get clean  && \
    rm -r /tmp/*

RUN mkdir /home/compute-r && \
    cd /home/compute-r && \
    curl -O https://cran.rstudio.com/src/base/R-3/R-${R_VERSION}.tar.gz && \
    tar -xzvf R-${R_VERSION}.tar.gz && \
    cd R-${R_VERSION} && \
    ./configure --enable-R-shlib --enable-BLAS-shared --enable-memory-profiling --enable-lto LIBnn=lib CFLAGS='-O3 -Wall' CPPFLAGS='-O3 -Wall' CXXFLAGS='-O3 -Wall' CXXCPPFLAGS='-O3 -Wall' FFLAGS='-O3 -Wall' FCFLAGS='-O3 -Wall' OBJCFLAGS='-O3 -Wall' OBJCXXFLAGS='-O3 -Wall' && \
    make && \
    make install && \
    cd /home/compute-r && \
    rm -r ./*
RUN Rscript -e "install.packages(c(\"rjson\", \"RJSONIO\", \"jsonlite\", \"functional\", \"R.methodsS3\", \"trelliscopejs\", \"caTools\", \"RPostgreSQL\", \"RJDBC\", \"housingData\", \"Lahman\", \"nycflights13\", \"flexdashboard\", \"sparklyr\", \"glmnet\", \"reticulate\", \"tensorflow\"), repos = 'http://cran.rstudio.com')"
# A few unnecessary packages (I think) for good measure.
