FROM ubuntu:bionic

ARG DEBIAN_FRONTEND=noninteractive

# Get Cran Repository on the apt list
RUN sed -i '/deb-src/s/^# //' /etc/apt/sources.list && \
    apt-get update && \
    apt-get upgrade -y && \
    apt-get install -y apt-utils apt-transport-https ca-certificates wget dirmngr gnupg software-properties-common tzdata gpg
    apt-get clean  && \
    rm -r /tmp/*

RUN add-apt-repository -s 'deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/' && \
    gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9 && \
    gpg -a --export E298A3A825C0D65DFD57CBB651716619E084DAB9 | apt-key add - && \
    apt-get update && \
    apt-get clean && \
    rm -r /tmp/*

# Download of all dependencies recommended for building and/or installing the binary of r-base-dev.
RUN apt-get update && \
    apt-get install -y at-spi2-core autoconf automake autopoint autotools-dev bash-completion binutils binutils-common binutils-x86-64-linux-gnu bison bsdmainutils build-essential bzip2-doc ca-certificates-java cmake cmake-data cpp cpp-7 cpp-8 debhelper default-jdk default-jdk-headless default-jre default-jre-headless dh-autoreconf dh-exec dh-strip-nondeterminism diffstat dpkg-dev f2c fakeroot fontconfig fontconfig-config fonts-adf-accanthis fonts-adf-berenis fonts-adf-gillius fonts-adf-universalis fonts-cabin fonts-comfortaa fonts-croscore fonts-crosextra-caladea fonts-crosextra-carlito fonts-dejavu-core fonts-dejavu-extra fonts-droid-fallback fonts-ebgaramond fonts-ebgaramond-extra fonts-font-awesome fonts-freefont-otf fonts-freefont-ttf fonts-gfs-artemisia fonts-gfs-complutum fonts-gfs-didot fonts-gfs-neohellenic fonts-gfs-olga fonts-gfs-solomos fonts-go fonts-junicode fonts-lato fonts-linuxlibertine fonts-lmodern fonts-lobster fonts-lobstertwo fonts-noto-hinted fonts-noto-mono fonts-oflb-asana-math fonts-open-sans fonts-roboto-hinted fonts-sil-gentium fonts-sil-gentium-basic fonts-sil-gentiumplus fonts-sil-gentiumplus-compact fonts-stix fonts-texgyre fort77 g++ g++-7 g++-7-multilib gawk gcc gcc-7 gcc-7-base gcc-7-multilib gcc-8 gccgo gccgo-8 gettext gettext-base gfortran gfortran-7 ghostscript gir1.2-freedesktop gir1.2-harfbuzz-0.0 gir1.2-pango-1.0 gobjc gobjc++ gobjc++-7 gobjc-7 gperf groff-base gsfonts icu-devtools intltool-debian java-common javascript-common krb5-locales lib32asan4 lib32atomic1 lib32cilkrts5 lib32gcc-7-dev lib32gcc1 lib32gomp1 lib32itm1 lib32mpx2 lib32quadmath0 lib32stdc++-7-dev lib32stdc++6 lib32ubsan0 libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl libarchive-cpio-perl libarchive-zip-perl libarchive13 libasan4 libasan5 libasound2 libasound2-data libatk-bridge2.0-0 libatk-wrapper-java libatk-wrapper-java-jni libatk1.0-0 libatk1.0-data libatomic1 libatspi2.0-0 libaudit-dev libauthen-sasl-perl libavahi-client3 libavahi-common-data libavahi-common3 libbinutils libbison-dev libblas-dev libblas3 libbsd0 libbz2-dev libc-dev-bin libc6-dev libc6-dev-i386 libc6-dev-x32 libc6-i386 libc6-x32 libcairo-gobject2 libcairo-script-interpreter2 libcairo2 libcairo2-dev libcap-dev libcap-ng-dev libcap2 libcc1-0 libcilkrts5 libcroco3 libcups2 libcupsfilters1 libcupsimage2 libcurl4 libcurl4-openssl-dev libdata-dump-perl libdatrie1 libdpkg-perl libdrm-amdgpu1 libdrm-common libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libdrm2 libedit2 libelf1 libencode-locale-perl libexpat1-dev libf2c2 libf2c2-dev libfakeroot libfile-basedir-perl libfile-desktopentry-perl libfile-fcntllock-perl libfile-homedir-perl libfile-listing-perl libfile-mimeinfo-perl libfile-stripnondeterminism-perl libfile-which-perl libfont-afm-perl libfontconfig1 libfontconfig1-dev libfontenc1 libfreetype6 libfreetype6-dev libgc1c2 libgcc-7-dev libgcc-8-dev libgdbm-compat4 libgdbm5 libgfortran-7-dev libgfortran4 libgif7 libgl1 libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libglib2.0-bin libglib2.0-dev libglib2.0-dev-bin libglvnd0 libglx-mesa0 libglx0 libgo13 libgomp1 libgraphite2-3 libgraphite2-dev libgs9 libgs9-common libgssapi-krb5-2 libharfbuzz-dev libharfbuzz-gobject0 libharfbuzz-icu0 libharfbuzz0b libhtml-form-perl libhtml-format-perl libhtml-parser-perl libhtml-tagset-perl libhtml-tree-perl libhttp-cookies-perl libhttp-daemon-perl libhttp-date-perl libhttp-message-perl libhttp-negotiate-perl libice-dev libice6 libicu-dev libicu-le-hb-dev libicu-le-hb0 libiculx60 libidn11 libijs-0.35 libio-html-perl libio-socket-ssl-perl libipc-system-simple-perl libisl19 libitm1 libjbig-dev libjbig0 libjbig2dec0 libjpeg-dev libjpeg-turbo8 libjpeg-turbo8-dev libjpeg8 libjpeg8-dev libjs-jquery libjsoncpp1 libk5crypto3 libkeyutils1 libkpathsea6 libkrb5-3 libkrb5support0 liblapack-dev liblapack-pic liblapack3 liblcms2-2 libllvm9 liblocale-gettext-perl liblsan0 libltdl-dev libltdl7 liblwp-mediatypes-perl liblwp-protocol-https-perl liblzma-dev liblzo2-2 libmail-sendmail-perl libmailtools-perl libmime-charset-perl libmpc3 libmpfr6 libmpx2 libncurses5-dev libnet-dbus-perl libnet-http-perl libnet-smtp-ssl-perl libnet-ssleay-perl libnghttp2-14 libnspr4 libnss3 libobjc-7-dev libobjc4 libpango-1.0-0 libpango1.0-dev libpangocairo-1.0-0 libpangoft2-1.0-0 libpangoxft-1.0-0 libpaper-utils libpaper1 libpciaccess0 libpcre16-3 libpcre2-16-0 libpcre2-32-0 libpcre2-8-0 libpcre2-dev libpcre2-posix0 libpcre3-dev libpcre32-3 libpcrecpp0v5 libpcsclite1 libperl5.26 libpipeline1 libpixman-1-0 libpixman-1-dev libpng-dev libpng-tools libpng16-16 libpoppler73 libpotrace0 libptexenc1 libpthread-stubs0-dev libpython-stdlib libpython2.7-minimal libpython2.7-stdlib libquadmath0 libreadline-dev librhash0 librtmp1 libruby2.5 libselinux1-dev libsensors4 libsepol1-dev libsigsegv2 libsm-dev libsm6 libsombok3 libstdc++-7-dev libsynctex1 libsys-hostname-long-perl libtcl8.6 libtexlua52 libtexluajit2 libtext-iconv-perl libtext-unidecode-perl libthai-data libthai0 libtie-ixhash-perl libtiff5 libtiff5-dev libtiffxx5 libtimedate-perl libtinfo-dev libtk8.6 libtool libtry-tiny-perl libtsan0 libubsan0 libubsan1 libunicode-linebreak-perl liburi-perl libutempter0 libuv1 libwww-perl libwww-robotrules-perl libx11-6 libx11-data libx11-dev libx11-doc libx11-protocol-perl libx11-xcb1 libx32asan4 libx32atomic1 libx32cilkrts5 libx32gcc-7-dev libx32gcc1 libx32gomp1 libx32itm1 libx32quadmath0 libx32stdc++-7-dev libx32stdc++6 libx32ubsan0 libxau-dev libxau6 libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-render0 libxcb-render0-dev libxcb-shape0 libxcb-shm0 libxcb-shm0-dev libxcb-sync1 libxcb1 libxcb1-dev libxcomposite1 libxcursor1 libxdamage1 libxdmcp-dev libxdmcp6 libxext-dev libxext6 libxfixes3 libxfont2 libxft-dev libxft2 libxi6 libxinerama1 libxkbfile1 libxml-libxml-perl libxml-namespacesupport-perl libxml-parser-perl libxml-sax-base-perl libxml-sax-expat-perl libxml-sax-perl libxml-twig-perl libxml-xpathengine-perl libxmu6 libxmuu1 libxpm4 libxrandr2 libxrender-dev libxrender1 libxshmfence1 libxss-dev libxss1 libxt-dev libxt6 libxtst6 libxv1 libxxf86dga1 libxxf86vm1 libyaml-0-2 libyaml-tiny-perl libzzip-0-13 linux-libc-dev lmodern m4 make man-db manpages manpages-dev mpack multiarch-support netbase openjdk-11-jdk openjdk-11-jdk-headless openjdk-11-jre openjdk-11-jre-headless patch perl perl-modules-5.26 perl-openssl-defaults pkg-config po-debconf poppler-data preview-latex-style python python-minimal python2.7 python2.7-minimal python3-distutils python3-lib2to3 quilt rake rdfind ruby ruby-did-you-mean ruby-minitest ruby-net-telnet ruby-power-assert ruby-test-unit ruby2.5 rubygems-integration symlinks systemtap-sdt-dev t1utils tcl tcl-dev tcl8.6 tcl8.6-dev tex-common tex-gyre texinfo texlive-base texlive-binaries texlive-extra-utils texlive-fonts-extra texlive-fonts-extra-links texlive-fonts-recommended texlive-latex-base texlive-latex-extra texlive-latex-recommended texlive-pictures texlive-plain-generic tipa tk tk-dev tk8.6 tk8.6-dev unzip x11-common x11-utils x11-xkb-utils x11-xserver-utils x11proto-core-dev x11proto-dev x11proto-scrnsaver-dev x11proto-xext-dev xauth xbitmaps xdg-utils xfonts-base xfonts-encodings xfonts-utils xkb-data xorg-sgml-doctools xserver-common xterm xtrans-dev xvfb zip zlib1g-dev && \
    apt-get clean  && \
    rm -r /tmp/*

# A few unnecessary packages (I think) for good measure.
